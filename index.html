<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teluk Sirih Hijau - Konservasi PLN IP UBP Teluk Sirih</title>
    
    <!-- Ikon Tab Browser (Favicon) - Ganti dengan logo Anda jika ada -->
    <link rel="icon" href="https://play-lh.googleusercontent.com/C_ABhRDwsX3DW8xmfPiukQCIcjTWL5O18IdszUSYL5FqT142eNKSZsMcwRd4djMUDIY" type="image/x-icon">
    
    <style>
        /* == PENGATURAN DASAR & TEMA == */
        :root {
            /* Warna Light Mode */
            --green-dark: #2C5F2D;
            --green-light: #97BC62;
            --blue-sea: #0077b6;
            --yellow-accent: #FFD700;
            --grey-light: #f4f7f6;
            --text-dark: #333;
            --white: #ffffff;
            --bg-color: var(--white);
            --text-color: var(--text-dark);
            --card-bg: var(--white);
            --header-bg: rgba(255, 255, 255, 0.85);
            --border-color: rgba(221, 221, 221, 0.5);
            
            /* BARU: Gradien Aksen */
            --accent-gradient: linear-gradient(90deg, var(--blue-sea) 0%, var(--green-light) 50%, var(--yellow-accent) 100%);
        }

        /* BARU: Pengaturan Dark Mode */
        [data-theme='dark'] {
            --green-dark: #97BC62;
            --green-light: #2C5F2D;
            --blue-sea: #00aaff;
            --yellow-accent: #FFD700;
            --grey-light: #1e1e1e;
            --text-dark: #f0f0f0;
            --white: #121212;
            --bg-color: var(--white);
            --text-color: var(--text-dark);
            --card-bg: var(--grey-light);
            --header-bg: rgba(25, 25, 25, 0.85);
            --border-color: rgba(50, 50, 50, 0.5);
        }
        
        /* PERBAIKAN 2: Aturan Footer Dark Mode */
        [data-theme='dark'] footer {
            background: #121212; /* Latar belakang gelap */
            color: #f0f0f0; /* Teks terang */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.7;
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .container {
            width: 90%;
            max-width: 1100px;
            margin: 0 auto;
        }

        section {
            padding: 4rem 0;
            overflow: hidden; /* Mencegah elemen animasi meluap */
        }

        h1, h2, h3 {
            color: var(--green-dark);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        /* BARU: Judul dengan gradien */
        h2 {
            font-size: 2.2rem;
            text-align: center;
            margin-bottom: 2.5rem;
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
            display: inline-block; /* Diperlukan untuk background-clip */
            width: 100%;
        }

        h1 { font-size: 2.8rem; }
        h3 { font-size: 1.4rem; color: var(--green-dark); }
        
        p {
            margin-bottom: 1rem;
            color: var(--text-color);
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 1.8rem;
            background-image: var(--accent-gradient);
            background-size: 200% 100%;
            color: var(--text-dark);
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-position 0.4s ease, transform 0.3s ease, box-shadow 0.3s ease;
        }

        .btn:hover {
            background-position: 100% 0;
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        /* == 1. NAVIGASI / HEADER == */
        header {
            background: var(--header-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 1rem 0;
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: background-color 0.3s ease;
        }

        header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .header-logo {
            height: 40px;
            width: auto;
            object-fit: contain;
            transition: filter 0.3s ease;
        }
        
        /* BARU: Efek shadow dark mode untuk logo kiri */
        [data-theme='dark'] .logo-left {
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.6));
        }
        
        /* PENYEMPURNAAN: Efek shadow dark mode untuk logo kanan (Danantara) */
        [data-theme='dark'] .logo-right {
            filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.6));
            background: rgba(255, 255, 255, 0.1); /* Latar belakang subtil agar lebih terlihat */
            border-radius: 4px;
        }


        .logo-text {
            font-size: 1.6rem;
            font-weight: 800;
            color: var(--green-dark);
            text-decoration: none;
            white-space: nowrap;
            transition: color 0.3s ease;
        }

        nav {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            align-items: center;
        }

        nav ul li {
            margin-left: 1.5rem;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: bold;
            transition: color 0.3s ease;
        }

        nav ul li a:hover {
            background: var(--accent-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-fill-color: transparent;
        }
        
        /* BARU: Dark Mode Toggle */
        .theme-switch-wrapper {
            display: flex;
            align-items: center;
        }
        .theme-switch {
            display: inline-block;
            height: 24px;
            position: relative;
            width: 44px;
        }
        .theme-switch input {
            display: none;
        }
        .theme-slider {
            background-color: #ccc;
            bottom: 0;
            cursor: pointer;
            left: 0;
            position: absolute;
            right: 0;
            top: 0;
            transition: .4s;
            border-radius: 34px;
        }
        .theme-slider:before {
            background-color: var(--white);
            bottom: 2px;
            content: "";
            height: 20px;
            left: 2px;
            position: absolute;
            transition: .4s;
            width: 20px;
            border-radius: 50%;
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='orange' class='bi bi-sun-fill' viewBox='0 0 16 16'><path d='M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8M8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0m0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13m8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5M3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8m10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.414a.5.5 0 1 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0m9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707M4.464 4.464a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707'/></svg>");
            background-repeat: no-repeat;
            background-position: center;
        }
        input:checked + .theme-slider {
            background-color: var(--blue-sea);
        }
        input:checked + .theme-slider:before {
            transform: translateX(20px);
            background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='white' class='bi bi-moon-stars-fill' viewBox='0 0 16 16'><path d='M6 .278a.77.77 0 0 1 .08.858 7.2 7.2 0 0 0 .878 3.82A1 1 0 0 1 6.83A5.22c.046.06.09.114.135.168.043.05.084.1.127.145.043.045.086.088.132.128.045.04.088.08.13.118.044.038.087.076.13.111a1 1 0 0 1 .117.127c.04.043.08.086.118.13.038.043.076.086.11.13a1 1 0 0 1 .128.132c.04.045.08.088.12.13.047.047.095.092.14.135a1 1 0 0 1 .168.135 7.2 7.2 0 0 0 3.82.878.77.77 0 0 1 .858.08A.76.76 0 0 1 15.722 6c0-3.86-3.14-7-7-7a.76.76 0 0 1-.278.08M10.02 11.23c.31-.05.51-.36.31-.65a.77.77 0 0 0-.64-.31.77.77 0 0 0-.65.31c-.2.3.001.6.31.65m2.384-2.384c.31-.05.51-.36.31-.65a.77.77 0 0 0-.64-.31.77.77 0 0 0-.65.31c-.2.3.001.6.31.65m-1.19-2.17a.77.77 0 0 0-.65.31c-.2.3.001.6.31.65s.6-.001.65-.31a.77.77 0 0 0-.31-.65M4.93 10.24c.31-.05.51-.36.31-.65a.77.77 0 0 0-.64-.31.77.77 0 0 0-.65.31c-.2.3.001.6.31.65m2.384-2.384c.31-.05.51-.36.31-.65a.77.77 0 0 0-.64-.31.77.77 0 0 0-.65.31c-.2.3.001.6.31.65m-1.19-2.17a.77.77 0 0 0-.65.31c-.2.3.001.6.31.65s.6-.001.65-.31a.77.77 0 0 0-.31-.65'/></svg>");
        }

        /* == 2. HERO SECTION (SLIDESHOW) == */
        .hero {
            position: relative;
            height: 85vh;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--white);
        }

        .hero-slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
            z-index: 1;
        }
        
        .hero-slide.active { opacity: 1; }
        
        .hero-slide::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }

        .hero-content {
            position: relative;
            max-width: 600px;
            z-index: 2;
        }

        .hero h1 {
            color: var(--white);
            font-size: 3.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
            color: #f0f0f0;
        }
        
        .slide-dots {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 3;
            display: flex;
        }
        
        .dot {
            height: 12px;
            width: 12px;
            margin: 0 5px;
            background-color: rgba(255, 255, 255, 0.5);
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
            cursor: pointer;
        }
        
        .dot.active {
            background-color: var(--green-light);
        }

        /* == 3. KOMITMEN == */
        .commitment-pillars {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            text-align: center;
        }

        .pillar {
            background: var(--card-bg);
            padding: 2rem;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            border-top: 5px solid;
            border-image: var(--accent-gradient) 1;
        }
        
        .pillar:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        
        /* PENYEMPURNAAN: CSS untuk Gambar Pilar */
        .pillar-image-container {
            width: 100%;
            /* PERBAIKAN 1: Resolusi 1:1 */
            aspect-ratio: 1 / 1;
            overflow: hidden;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        .pillar-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        .pillar:hover .pillar-image-container img {
            transform: scale(1.05);
        }
        /* Akhir CSS Gambar Pilar */

        .pillar h3 {
            color: var(--text-color);
            margin-top: 1rem; /* Jarak dari gambar */
        }

        /* == 4. PROGRAM UNGGULAN == */
        .programs {
            background-color: var(--grey-light);
            transition: background-color 0.3s ease;
        }

        .program-cards {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
        }

        .card {
            background: var(--card-bg);
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
            padding: 2rem;
            text-align: center;
            border-top: 5px solid;
            border-image: var(--accent-gradient) 1;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            overflow: hidden; /* Mencegah gambar keluar dari border-radius */
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
        }
        
        /* PENYEMPURNAAN: CSS untuk Gambar Kartu Program */
        .card-image-container {
            width: calc(100% + 4rem); /* Lebar penuh + padding */
            /* PERBAIKAN 1: Resolusi 1:1 */
            aspect-ratio: 1 / 1;
            overflow: hidden;
            margin: -2rem -2rem 1.5rem -2rem; /* Tarik gambar ke tepi kartu */
        }
        .card-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
            border-radius: 0; /* Hapus border-radius dari img */
        }
        .card:hover .card-image-container img {
            transform: scale(1.05);
        }
        /* Akhir CSS Gambar Kartu */
        
        .card h3 {
            color: var(--text-color);
        }
        
        .card-data {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--green-dark);
            margin: 1rem 0;
            transition: color 0.3s ease;
        }

        /* == 5. DATA & DAMPAK == */
        .data-impact-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
            align-items: center;
            margin-bottom: 3rem;
        }

        .data-content h3 {
            font-size: 1.8rem;
            color: var(--green-dark);
        }
        
        .data-content ul {
            list-style-position: inside;
            padding-left: 0;
        }
        
        .data-content li {
            margin-bottom: 0.5rem;
        }
        
        .data-image {
            text-align: center;
            border: 1px solid var(--border-color);
            padding: 1rem;
            border-radius: 8px;
            background: var(--card-bg);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        
        /* BARU: Peta Interaktif */
        #mapImage {
            cursor: zoom-in;
            transition: transform 0.3s ease;
        }
        #mapImage:hover {
            transform: scale(1.02);
        }

        /* BARU: Tabel Data */
        .data-table-wrapper {
            overflow-x: auto; /* Untuk responsif di mobile */
            padding: 1rem;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border-color);
        }
        .data-table {
            width: 100%;
            border-collapse: collapse;
            text-align: left;
        }
        .data-table th, .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid var(--border-color);
        }
        .data-table th {
            background-color: var(--grey-light);
            color: var(--green-dark);
            font-size: 0.9rem;
            text-transform: uppercase;
        }
        .data-table tbody tr {
            transition: background-color 0.2s ease;
        }
        .data-table tbody tr:hover {
            background-color: var(--grey-light);
        }
        .data-table td:nth-child(3), .data-table td:nth-child(4), .data-table td:nth-child(5) {
            text-align: center;
            font-weight: bold;
        }
        .data-table td .positive {
            color: #28a745;
        }
        .data-table td .negative {
            color: #dc3545;
        }
        
        /* BARU: Grafik HTML/CSS */
        .chart-container {
            padding: 2rem;
            background: var(--card-bg);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }
        
        .bar-chart {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 250px;
            border-bottom: 2px solid var(--text-color);
            padding-top: 10px;
        }
        
        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        .bar {
            width: 50px;
            background-image: var(--accent-gradient);
            border-radius: 5px 5px 0 0;
            position: relative;
            height: 0; /* Animasi dari 0 */
            transition: height 1.5s ease-out;
        }
        
        .bar::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            font-size: 0.9rem;
            color: var(--text-color);
        }
        
        .year {
            font-weight: bold;
            color: var(--text-color);
            margin-top: 5px;
        }
        
        /* Grafik Fauna (Grouped) */
        .grouped-chart {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 300px;
            border-bottom: 2px solid var(--text-color);
            padding-top: 10px;
        }
        
        .year-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .bar-multi-group {
            display: flex;
            align-items: flex-end;
            gap: 5px;
            height: 100%;
        }
        
        .bar-g {
            width: 25px;
            position: relative;
            height: 0;
            transition: height 1.5s ease-out;
            border-radius: 5px 5px 0 0;
        }
        
        .bar-g.mamalia { background-color: var(--blue-sea); }
        .bar-g.burung { background-color: #f0ad4e; } /* Orange */
        .bar-g.herpetofauna { background-color: #5cb85c; } /* Green */
        
        .bar-g::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
            font-size: 0.8rem;
            color: var(--text-color);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.9rem;
        }
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 3px;
        }

        /* == 6. GALERI == */
        .gallery {
             background-color: var(--grey-light);
             transition: background-color 0.3s ease;
        }
        .gallery-grid {
            display: grid;
            /* Buat grid responsif */
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 1rem;
        }

        .gallery-item img {
            /* BARU: Orientasi 1:1 */
            width: 100%;
            aspect-ratio: 1 / 1;
            object-fit: cover;
            border-radius: 8px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: zoom-in;
        }
        
        .gallery-item img:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        /* == 7. PUSAT UNDUHAN == */
        .downloads {
            text-align: center;
            background-color: var(--green-dark);
            color: var(--white);
            transition: background-color 0.3s ease;
        }
        
        .downloads h2 {
            color: var(--white);
            background: none; /* Hapus gradien di sini */
            -webkit-text-fill-color: unset;
            text-fill-color: unset;
        }
        
        .downloads p {
            color: #f0f0f0;
        }
        
        .downloads-buttons {
            margin-top: 2rem;
        }
        
        .downloads .btn {
            background-image: none;
            background-color: var(--white);
            color: var(--green-dark);
            margin: 0.5rem; /* Margin asli */
        }
        
        .downloads .btn:hover {
            background-color: var(--grey-light);
            color: var(--text-dark);
            transform: scale(1.05);
        }

        /* == 8. FOOTER == */
        /* PERBAIKAN 2: CSS Footer disederhanakan */
        footer {
            background: #333; /* Latar belakang gelap di light mode */
            color: #f0f0f0; /* Teks terang di light mode */
            text-align: center;
            padding: 2rem 0;
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        
        footer p {
            margin: 0;
            color: inherit; /* Mewarisi warna dari elemen footer */
        }
        
        /* == BARU: MODAL (POPUP) UNTUK PETA & GALERI == */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            padding-top: 50px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
            cursor: zoom-out;
        }

        .modal-content {
            margin: auto;
            display: block;
            width: auto;
            height: auto;
            /* BARU: Ukuran 1:4 (interpretasi: 80% viewport) */
            max-width: 80vw;
            max-height: 80vh;
        }
        
        #galleryModal .modal-content {
            border-radius: 8px;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
            z-index: 1002;
        }

        .close-modal:hover,
        .close-modal:focus {
            color: #bbb;
            text-decoration: none;
        }
        
        /* BARU: Tombol Share Galeri */
        .share-container {
            text-align: center;
            padding: 20px;
        }
        .share-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 15px;
        }
        .share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            text-decoration: none;
            color: #fff;
            font-size: 20px;
            transition: transform 0.3s ease;
        }
        .share-btn:hover {
            transform: scale(1.1);
        }
        .share-btn.facebook { background-color: #1877F2; }
        .share-btn.twitter { background-color: #1DA1F2; }
        .share-btn.pinterest { background-color: #E60023; }
        .share-btn.copylink { background-color: #6c757d; }
        .copy-success {
            color: var(--green-dark);
            font-weight: bold;
            visibility: hidden;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        .copy-success.visible {
            visibility: visible;
            opacity: 1;
        }


        /* == CSS UNTUK ANIMASI SCROLL == */
        .pillar,
        .card,
        .data-impact-grid,
        .gallery-item,
        .data-table-wrapper,
        .chart-container {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
            transition-delay: 0.1s;
        }
        
        /* Kelas .visible akan ditambahkan oleh JavaScript */
        .pillar.visible,
        .card.visible,
        .data-impact-grid.visible,
        .gallery-item.visible,
        .data-table-wrapper.visible,
        .chart-container.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Animasi bar grafik saat .visible */
        .bar-chart.visible .bar,
        .grouped-chart.visible .bar-g {
            height: var(--bar-height, 0); /* Ditetapkan oleh JS */
        }


        /* == RESPONSIVE (Untuk HP) == */
        @media (max-width: 992px) {
            .program-cards,
            .commitment-pillars {
                grid-template-columns: 1fr;
            }
            .data-impact-grid {
                grid-template-columns: 1fr;
            }
            
            .data-impact-grid:nth-of-type(2) .data-image,
            .data-impact-grid:nth-of-type(3) .data-image {
                /* Balik urutan di mobile */
                order: -1;
            }
        }
        
        @media (max-width: 768px) {
            h1 { font-size: 2.2rem; }
            .hero h1 { font-size: 2.5rem; }
            h2 { font-size: 1.8rem; }
            
            /* Sembunyikan menu desktop */
            nav ul {
                display: none;
            }
            
            /* Pusatkan logo container & toggle di mobile */
            header .container {
                justify-content: space-between; 
            }

            .logo-text {
                font-size: 1.4rem;
            }

            .header-logo {
                height: 35px;
            }
            
            .gallery-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 0.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .logo-container {
                gap: 0.5rem;
            }
            .logo-text {
                font-size: 1.1rem;
                white-space: normal;
                text-align: left;
            }
            .header-logo {
                height: 30px;
            }
            
            .gallery-grid {
                grid-template-columns: repeat(2, 1fr); /* 2 kolom di HP */
            }
            
            .modal-content {
                max-width: 90vw;
                max-height: 70vh;
            }
            
            .share-buttons {
                gap: 5px; /* Rapatkan tombol share */
            }
            
            /* PENYEMPURNAAN: Perbaiki tampilan kartu di mobile */
            .card-image-container {
                 width: calc(100% + 4rem);
                 margin: -2rem -2rem 1.5rem -2rem;
            }
            
            /* PERBAIKAN: Beri jarak tombol download di mobile */
            .downloads .btn {
                display: block;
                margin: 1rem auto; /* 1rem atas/bawah, tengah */
                width: 80%; /* Agar tidak terlalu lebar */
            }
        }

    </style>
</head>
<body data-theme="light"> <!-- data-theme dikontrol oleh JS -->

    <!-- 1. NAVIGASI / HEADER -->
    <header>
        <div class="container">
            <div class="logo-container">
                <!-- GANTI DENGAN LINK LOGO ANDA -->
                <img src="https://indonesiapowerkmj.com/assets_ip2022/img/logo.png" alt="Logo PLN Indonesia Power" class="header-logo logo-left">
                
                <a href="#" class="logo-text">TELUK SIRIH HIJAU</a>
            </div>

            <nav>
                <ul>
                    <li><a href="#komitmen">Komitmen</a></li>
                    <li><a href="#program">Program</a></li>
                    <li><a href="#data">Data</a></li>
                    <li><a href="#galeri">Galeri</a></li>
                    <li><a href="#unduh">Unduhan</a></li>
                    <!-- GANTI DENGAN LINK LOGO ANDA -->
                    <li>
                        <!-- PENYEMPURNAAN: Menambahkan kelas .logo-right untuk dark mode -->
                        <img src="https://www.danantaraindonesia.com/images/v3/danantara-logo-black-v3.png" alt="Logo Danantara Indonesia" class="header-logo logo-right">
                    </li>
                </ul>
                <!-- BARU: Dark Mode Toggle -->
                <div class="theme-switch-wrapper">
                    <label class="theme-switch" for="darkModeToggle">
                        <input type="checkbox" id="darkModeToggle">
                        <span class="theme-slider"></span>
                    </label>
                </div>
            </nav>
        </div>
    </header>

    <main>
        <!-- 2. HERO SECTION (SLIDESHOW) -->
        <section class="hero" id="beranda">
            
            <!-- PERBAIKAN 2: 4 Slide Banner Baru -->
            <div class="hero-slide active" style="background-image: url('https://lh3.googleusercontent.com/d/1fGrkhpa_9zaz_KbJci0Elpx_WK68Esvz');"></div>
            <div class="hero-slide" style="background-image: url('https://lh3.googleusercontent.com/d/1-wT-2DLD3JxXGCH5abzmadqSwrBnWv3e');"></div> 
            <div class="hero-slide" style="background-image: url('https://lh3.googleusercontent.com/d/1ChZuQ8SZ2x8YHiIGo8v45GIJWzn9nrPt');"></div> 
            <div class="hero-slide" style="background-image: url('https://lh3.googleusercontent.com/d/1u9Xm6Z-YX1PzsgDCmBNG7Jt_5VT_Dp2O');"></div> 

            <div class="hero-content">
                <h1>Melestarikan Jantung Hijau Teluk Sirih</h1>
                <p>Komitmen PT PLN Indonesia Power UBP Teluk Sirih untuk operasional andal yang bersinergi dengan kelestarian alam.</p>
                <a href="#program" class="btn">Jelajahi Program Kami</a>
            </div>

            <!-- BARU: 4 Titik Navigasi -->
            <div class="slide-dots">
                <span class="dot active" onclick="currentSlide(1)"></span>
                <span class="dot" onclick="currentSlide(2)"></span>
                <span class="dot" onclick="currentSlide(3)"></span>
                <span class="dot" onclick="currentSlide(4)"></span>
            </div>
        </section>

        <!-- 3. KOMITMEN KAMI -->
        <section id="komitmen" class="commitment">
            <div class="container">
                <h2>Sinergi Energi dan Konservasi</h2>
                <p style="text-align: center; max-width: 800px; margin: 0 auto 2.5rem auto;">
                    PT PLN Indonesia Power UBP Teluk Sirih berkomitmen menjalankan operasi yang andal dan efisien, sekaligus bertanggung jawab melestarikan lingkungan. Pengelolaan keanekaragaman hayati adalah bagian integral dari strategi keberlanjutan kami.
                </p>
                <div class="commitment-pillars">
                    <div class="pillar">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar -->
                        <div class="pillar-image-container">
                            <img src="https://i.imgur.com/eppqDsN.png" alt="Konservasi Ekosistem">
                        </div>
                        <h3>Konservasi Ekosistem</h3>
                        <p>Termasuk rehabilitasi lahan hijau untuk menjaga keseimbangan alam.</p>
                    </div>
                    <div class="pillar">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar -->
                        <div class="pillar-image-container">
                            <img src="https://i.imgur.com/YVYEuUY.png" alt="Pelestarian Flora & Fauna">
                        </div>
                        <h3>Pelestarian Flora & Fauna</h3>
                        <p>Melindungi dan melestarikan spesies lokal dan endemik di area kami.</p>
                    </div>
                    <div class="pillar">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar -->
                        <div class="pillar-image-container">
                            <img src="https://i.imgur.com/p4C6bjD.png" alt="Pemberdayaan Masyarakat">
                        </div>
                        <h3>Pemberdayaan Masyarakat</h3>
                        <p>Mendorong nilai tambah ekonomi berkelanjutan berbasis lingkungan.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 4. PROGRAM UNGGULAN KAMI -->
        <section id="program" class="programs">
            <div class="container">
                <h2>Program Keanekaragaman Hayati</h2>
                <div class="program-cards">
                    <div class="card">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar header kartu -->
                        <div class="card-image-container">
                            <img src="https://i.imgur.com/A7BSuPi.png" alt="Konservasi Terumbu Karang">
                        </div>
                        <h3>Konservasi Terumbu Karang</h3>
                        <p>Bekerjasama dengan LKKPN Pekanbaru untuk memulihkan ekosistem laut.</p>
                        <div class="card-data">976</div>
                        <p>Bibit Telah Ditransplantasi</p>
                    </div>
                    <div class="card">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar header kartu -->
                        <div class="card-image-container">
                            <img src="https://i.imgur.com/HrMXJks.png" alt="Konservasi Tanaman Endemik">
                        </div>
                        <h3>Konservasi Tanaman Endemik</h3>
                        <p>Melindungi pohon langka (Andalas 14, Palem Kuning 5, Cemara 14, Palem Manila 5).</p>
                        <div class="card-data">38+</div>
                        <p>Total Batang Pohon Endemik</p>
                    </div>
                    <div class="card">
                        <!-- PENYEMPURNAAN: Ikon diganti gambar header kartu -->
                        <div class="card-image-container">
                            <img src="https://i.imgur.com/wYH4MEr.png" alt="Program Penghijauan">
                        </div>
                        <h3>Program Penghijauan</h3>
                        <p>Penanaman rutin pohon produktif (Kaliandra 100, Tabebuya 30, dll).</p>
                        <div class="card-data">220+</div>
                        <p>Total Pohon Baru Ditanam</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- 5. DATA & DAMPAK (DIROMBAK TOTAL) -->
        <section id="data" class="data-impact">
            <div class="container">
                <h2>Data & Dampak yang Terukur</h2>
                
                <!-- BARU: Peta Kawasan Interaktif -->
                <div class="data-impact-grid">
                    <div class="data-content">
                        <h3>Peta Kawasan Konservasi</h3>
                        <p>Kami telah memetakan 5 stasiun pengamatan flora dan fauna utama di kawasan PLTU Teluk Sirih untuk memonitor keanekaragaman hayati secara berkala. Klik peta untuk memperbesar.</p>
                        <ul>
                            <li>Stasiun 1: Area Mess</li>
                            <li>Stasiun 2: Area Operasional</li>
                            <li>Stasiun 3: Area Jetty</li>
                            <li>Stasiun 4: Area Outfall</li>
                            <li>Stasiun 5: Area FABA</li>
                        </ul>
                    </div>
                    <div class="data-image">
                        <!-- 
                            PENTING: GANTI 'https://...' DI BAWAH DENGAN URL PUBLIK DARI 'peta.jpg' ANDA 
                        -->
                        <img id="mapImage" src="https://i.imgur.com/1RjWHYn.png" alt="Peta Kawasan Konservasi Kehati PLTU Teluk Sirih">
                    </div>
                </div>

                <!-- BARU: Tabel Data HTML (dari tabelkehati.jpg) -->
                <div class="data-table-wrapper">
                    <h3 style="text-align: center; margin-bottom: 1.5rem;">Indeks Keanekaragaman Hayati 2024-2025</h3>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Indeks Keanekaragaman</th>
                                <th>2024</th>
                                <th>2025</th>
                                <th>Perubahan</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>Indeks Strata Pohon</td>
                                <td>1.18</td>
                                <td>1.23</td>
                                <td><span class="positive">▲ +0.05</span></td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Indeks Strata Fauna (Mamalia)</td>
                                <td>0.47</td>
                                <td>1.22</td>
                                <td><span class="positive">▲ +0.75</span></td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Indeks Strata Fauna (Burung)</td>
                                <td>2.45</td>
                                <td>2.66</td>
                                <td><span class="positive">▲ +0.21</span></td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Indeks Strata Fauna (Herpetofauna)</td>
                                <td>1.50</td>
                                <td>1.63</td>
                                <td><span class="positive">▲ +0.13</span></td>
                            </tr>
                        </tbody>
                    </table>
                    <p style="font-size: 0.8rem; text-align: right; margin-top: 10px; color: var(--text-color);">
                        * Sumber dari Laporan Monitoring Evaluasi Keanekaragaman Hayati PT PLN IP UBP Teluk Sirih
                    </p>
                </div>

                <!-- BARU: Grafik Strata Pohon (dari grafikkehati.jpg) -->
                <div class="data-impact-grid">
                     <div class="chart-container" style="width:100%;">
                        <h3>Peningkatan Indeks Strata Pohon</h3>
                        <div class="bar-chart" id="pohonChart">
                            <div class="bar-group">
                                <div class="bar" data-value="1.18" style="--bar-height: 118px;"></div>
                                <div class="year">2024</div>
                            </div>
                            <div class="bar-group">
                                <div class="bar" data-value="1.23" style="--bar-height: 123px;"></div>
                                <div class="year">2025</div>
                            </div>
                        </div>
                     </div>
                    <div class="data-content">
                        <h3>Kemajuan Strata Pohon</h3>
                        <p>Kami bangga melihat peningkatan nyata dalam Indeks Strata Pohon, yang naik dari <strong>1.18</strong> menjadi <strong>1.23</strong>. Ini adalah bukti bahwa upaya konservasi dan rehabilitasi lahan hijau yang kami lakukan memberikan dampak positif bagi kesehatan ekosistem.</p>
                    </div>
                </div>
                
                <!-- BARU: Grafik Strata Fauna (dari grafikfauna.jpg) -->
                <div class="data-impact-grid">
                    <div class="data-content">
                        <h3>Trend Peningkatan Indeks Strata Fauna</h3>
                        <p>Analisis kami juga menunjukkan tren peningkatan yang signifikan pada berbagai strata fauna antara tahun 2024 dan 2025. Peningkatan ini mencakup mamalia, burung, dan herpetofauna, menandakan ekosistem yang lebih sehat dan berimbang.</p>
                    </div>
                     <div class="chart-container" style="width:100%;">
                        <h3>Indeks Strata Fauna 2024-2025</h3>
                        <div class="grouped-chart" id="faunaChart">
                            <div class="year-group">
                                <div class="bar-multi-group">
                                    <div class="bar-g mamalia" data-value="0.47" style="--bar-height: 47px;"></div>
                                    <div class="bar-g burung" data-value="2.45" style="--bar-height: 245px;"></div>
                                    <div class="bar-g herpetofauna" data-value="1.50" style="--bar-height: 150px;"></div>
                                </div>
                                <div class="year">2024</div>
                            </div>
                            <div class="year-group">
                                <div class="bar-multi-group">
                                    <div class="bar-g mamalia" data-value="1.22" style="--bar-height: 122px;"></div>
                                    <div class="bar-g burung" data-value="2.66" style="--bar-height: 266px;"></div>
                                    <div class="bar-g herpetofauna" data-value="1.63" style="--bar-height: 163px;"></div>
                                </div>
                                <div class="year">2025</div>
                            </div>
                        </div>
                        <div class="legend">
                            <div class="legend-item"><span class="legend-color" style="background-color: var(--blue-sea);"></span> Mamalia</div>
                            <div class="legend-item"><span class="legend-color" style="background-color: #f0ad4e;"></span> Burung</div>
                            <div class="legend-item"><span class="legend-color" style="background-color: #5cb85c;"></span> Herpetofauna</div>
                        </div>
                     </div>
                </div>

            </div>
        </section>

        <!-- 6. GALERI (DIROMBAK DENGAN 28 FOTO & POPUP) -->
        <section id="galeri" class="gallery">
            <div class="container">
                <h2>Momen dari Lapangan</h2>
                <div class="gallery-grid">
                    <!-- FOTO-FOTO BARU (28 FOTO) -->
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1fGrkhpa_9zaz_KbJci0Elpx_WK68Esvz" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1zqnjtxsTJP0Sou2KD_OM5tddpwv6xrnt" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1-wT-2DLD3JxXGCH5abzmadqSwrBnWv3e" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1ChZuQ8SZ2x8YHiIGo8v45GIJWzn9nrPt" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1u9Xm6Z-YX1PzsgDCmBNG7Jt_5VT_Dp2O" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1SoY1W00SVZXuIkb5NogcoNq4SvA1M-9_" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1jcVtNIcYq5DtTh9ljL8PdsEZR7cIdehd" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1t0UCudZyZQy81yZLfLZAAK0waw4rcTMQ" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1TUtBZGzSzXTI6hZvPv954oWxgplZZHI9" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/121yCGKDsR1IvXXsWbUS5_8ua5lt5_3Fw" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1IrSVbQLM2gP59WDHK8WheRefbgDXqajR" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1yjVY59Tk8WIMnVsv-C-NXvoY45jMQ8-G" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1Qz8cA_Ce6y-yqHzYXtCV0W78tsmr2dtD" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/16RDKse4UbTEwHlDVMuxyCqedEZGMPeOP" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1HGRtLru_osNnbSxbAyJlc5LLSXke9dDd" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1MYGuJUTAOrnpg13O2hq3PTOj4XQqtiSS" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1xTXdOKDE8ZjmZHVGhWEp5Ne6q4ipaOH3" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1S0wPkemAoj2EzWhUHNvl3JD9dtbeLyIe" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1O8HIIhiCj2evHwHmWA-hZj5LKdrunpkm" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1NADM-TZqDdTy7UaW1pkOw_zA6RBbEC5z" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1Mxj6Fxegkp8UTxRQ12Wq7y3Felxb2hy3" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/19zVvC0hxsqtiVWDbvqbIkzwUarAEe-6G" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1gOGeEIxBBvFE1l8DeLRUMFauSjfBvCFk" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1H3zVRdqZUgV56glpSyvDbWl9dsahCIYw" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1mf6G6I_1Fx4W134XT0XLFbiyvwOkcnrL" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/18ZTgATLjs6QjxGkE4SvWKhNvzBqhtSzi" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1WpAW37sUJ52XmXLQzlvrYy99max99Jq9" alt="Galeri Foto Teluk Sirih"></div>
                    <div class="gallery-item"><img src="https://lh3.googleusercontent.com/d/1dJ78kqySxnCh77EYHh7iqoD4pF0Ek6lI" alt="Galeri Foto Teluk Sirih"></div>
                </div>
            </div>
        </section>

        <!-- 7. PUSAT UNDUHAN -->
        <section id="unduh" class="downloads">
            <div class="container">
                <h2>Pusat Materi dan Laporan</h2>
                <p>Akses data lengkap dan publikasi kami mengenai program keanekaragaman hayati.</p>
                <div class="downloads-buttons">
                    <!-- GANTI '#' dengan TAUTAN/LINK ke file PDF Anda -->
                    <a href="https://drive.google.com/file/d/1k5mqujp-clf9JnQRUNqHepnzGaPaILqM/view?usp=sharing" class="btn" target="_blank">⬇ Download Data Status Kehati</a>
                    <a href="https://drive.google.com/file/d/1IjhK9hmyASTII0o4KkVEYcf10WS9Cpgt/view?usp=sharing" class="btn" target="_blank">⬇ Download Buku ISBN Kehati</a>
                </div>
            </div>
        </section>
    </main>

    <!-- 8. FOOTER -->
    <footer>
        <div class="container">
            <!-- PERBAIKAN 3: CSS 'footer p' sudah diatur ke #f0f0f0 (terang) secara global, jadi ini sudah benar -->
            <p>&copy; 2025 PT PLN Indonesia Power UBP Teluk Sirih. All Rights Reserved.</p>
        </div>
    </footer>
    
    <!-- BARU: MODAL UNTUK PETA -->
    <div id="imageModal" class="modal">
        <span class="close-modal" id="closeMapModal">&times;</span>
        <img class="modal-content" id="modalImage">
    </div>
    
    <!-- BARU: MODAL UNTUK GALERI (DENGAN SHARE) -->
    <div id="galleryModal" class="modal">
        <span class="close-modal" id="closeGalleryModal">&times;</span>
        <img class="modal-content" id="galleryModalImage">
        <div class="share-container">
            <div class="share-buttons">
                <!-- SVG Ikon untuk Share -->
                <a href="#" id="shareFacebook" class="share-btn facebook" target="_blank" title="Bagikan ke Facebook">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M16 8.049c0-4.446-3.582-8.05-8-8.05C3.58 0 0 3.603 0 8.049c0 4.141 3.062 7.58 7.03 7.962v-5.627H4.84V8.05H7.03V6.03c0-2.169 1.29-3.377 3.27-3.377.92 0 1.86.164 1.86.164v2.094h-1.08c-1.06 0-1.42.66-1.42 1.383v1.604h2.42l-.41 2.356H9.71V16c3.96-.38 7.03-3.82 7.03-7.951z"/></svg>
                </a>
                <a href="#" id="shareTwitter" class="share-btn twitter" target="_blank" title="Bagikan ke X">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M12.6.75h2.454l-5.36 6.142L16 15.25h-4.918l-3.273-4.45L3.34 15.25H.887l5.6-6.4L0 .75h5.06l3.217 4.28L12.6.75zm-.86 13.028h1.36L4.323 2.145H2.865l8.875 11.633z"/></svg>
                </a>
                <a href="#" id="sharePinterest" class="share-btn pinterest" target="_blank" title="Bagikan ke Pinterest">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M8 0a8 8 0 0 0-2.915 15.447c.144-.06.187-.21.187-.348s0-.488.022-1.258c.022-.73 1.123-4.755 1.123-4.755s-.29-.577-.29-1.43c0-1.34.78-2.33 1.75-2.33.82 0 1.22.617 1.22 1.36 0 .826-.527 2.06-.79 3.205-.217.91.45 1.65 1.35 1.65 1.61 0 2.84-1.69 2.84-4.15 0-2.01-1.44-3.44-3.52-3.44-2.43 0-3.86 1.8-3.86 3.61 0 .82.31 1.7.7 2.22.08.1.09.18.07.28l-.18.7c-.04.16-.14.2-.33.13-1.09-.39-1.78-1.57-1.78-2.9 0-2.35 1.68-4.44 4.86-4.44 2.56 0 4.54 1.82 4.54 4.26 0 2.51-1.55 4.38-3.72 4.38-.72 0-1.39-.37-1.62-.79 0 0-.36 1.44-.46 1.83-.16.59-.47 1.17-.67 1.41C4.42 15.73 3.3 14.6 3.3 12.78c0-2.31 2.2-6.11 2.2-6.11S6.17 6 6.17 6.5c0 .54.54.96.54.96s-1.8 7.7-2.14 9.04c-.39 1.48-1.57 3.35-1.57 3.35s-.01.002-.01.002z"/></svg>
                </a>
                <a href="#" id="copyLink" class="share-btn copylink" title="Salin Tautan">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5zM6 1.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1a.5.5 0 0 1 .5-.5zM7.5 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1-.5-.5z"/><path d="M6 3a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5v1a.D5.5 0 0 1-1 0v-1H6.5a.5.5 0 0 1-.5-.5z"/></svg>
                </a>
            </div>
            <span id="copySuccess" class="copy-success">Tautan disalin!</span>
        </div>
    </div>


    <script>
        // == JAVASCRIPT UTAMA (SEMUA FUNGSI) ==
        document.addEventListener("DOMContentLoaded", function() {

            // === 1. FUNGSI DARK MODE ===
            const themeToggle = document.getElementById('darkModeToggle');
            const body = document.body;
            const currentTheme = localStorage.getItem('theme');

            // Cek tema tersimpan saat memuat halaman
            if (currentTheme) {
                body.dataset.theme = currentTheme;
                if (currentTheme === 'dark') {
                    themeToggle.checked = true;
                }
            }

            // Event listener untuk toggle
            themeToggle.addEventListener('change', function() {
                if (this.checked) {
                    body.dataset.theme = 'dark';
                    localStorage.setItem('theme', 'dark');
                } else {
                    body.dataset.theme = 'light';
                    localStorage.setItem('theme', 'light');
                }
            });

            // === 2. FUNGSI SLIDESHOW ===
            let slideIndex = 1;
            let autoSlideInterval;
            const slides = document.getElementsByClassName("hero-slide");
            const dots = document.getElementsByClassName("dot");

            function showSlides(n) {
                if (slides.length === 0 || dots.length === 0) return; // Keluar jika tidak ada slide

                // Atur slideIndex agar berputar (looping)
                if (n > slides.length) { slideIndex = 1 }
                if (n < 1) { slideIndex = slides.length }
                
                // Sembunyikan semua slide
                for (let i = 0; i < slides.length; i++) {
                    slides[i].classList.remove('active');
                }
                
                // Hapus kelas 'active' dari semua dots
                for (let i = 0; i < dots.length; i++) {
                    dots[i].classList.remove('active');
                }
                
                // Tampilkan slide saat ini dan tandai dot yang sesuai
                slides[slideIndex-1].classList.add('active');
                dots[slideIndex-1].classList.add('active');
            }

            window.currentSlide = function(n) { // Buat fungsi global
                stopAutoSlide();
                showSlides(slideIndex = n);
                startAutoSlide();
            }
            
            function plusSlides(n) {
                stopAutoSlide();
                showSlides(slideIndex += n);
                startAutoSlide();
            }

            function startAutoSlide() {
                stopAutoSlide();
                autoSlideInterval = setInterval(() => plusSlides(1), 5000);
            }

            function stopAutoSlide() {
                clearInterval(autoSlideInterval);
            }
            
            // Mulai slideshow
            showSlides(slideIndex);
            startAutoSlide();


            // === 3. FUNGSI MODAL PETA ===
            const mapModal = document.getElementById("imageModal");
            const mapImage = document.getElementById("mapImage");
            const modalImage = document.getElementById("modalImage");
            const closeMapModal = document.getElementById("closeMapModal");

            if (mapImage) {
                mapImage.onclick = function() {
                    mapModal.style.display = "block";
                    modalImage.src = this.src;
                }
            }
            if (closeMapModal) {
                closeMapModal.onclick = function() {
                    mapModal.style.display = "none";
                }
            }
            if (mapModal) {
                mapModal.onclick = function(event) {
                    if (event.target === mapModal) {
                        mapModal.style.display = "none";
                    }
                }
            }
            
            // === 4. FUNGSI MODAL GALERI & SHARE ===
            const galleryModal = document.getElementById("galleryModal");
            const galleryModalImage = document.getElementById("galleryModalImage");
            const closeGalleryModal = document.getElementById("closeGalleryModal");
            const galleryItems = document.querySelectorAll(".gallery-item img");
            
            const shareFB = document.getElementById("shareFacebook");
            const shareTW = document.getElementById("shareTwitter");
            const sharePI = document.getElementById("sharePinterest");
            const copyBtn = document.getElementById("copyLink");
            const copySuccessMsg = document.getElementById("copySuccess");
            
            let currentImageSrc = "";

            galleryItems.forEach(item => {
                item.onclick = function() {
                    currentImageSrc = this.src;
                    galleryModal.style.display = "block";
                    galleryModalImage.src = currentImageSrc;
                    
                    // Update share links
                    const encodedSrc = encodeURIComponent(currentImageSrc);
                    const pageUrl = encodeURIComponent(window.location.href);
                    const text = encodeURIComponent("Lihat foto konservasi keren ini!");
                    
                    shareFB.href = `https://www.facebook.com/sharer/sharer.php?u=${encodedSrc}`;
                    shareTW.href = `https://twitter.com/intent/tweet?url=${encodedSrc}&text=${text}`;
                    sharePI.href = `https://pinterest.com/pin/create/button/?url=${pageUrl}&media=${encodedSrc}&description=${text}`;
                }
            });

            if (closeGalleryModal) {
                closeGalleryModal.onclick = function() {
                    galleryModal.style.display = "none";
                }
            }
            
            if (galleryModal) {
                galleryModal.onclick = function(event) {
                    if (event.target === galleryModal) {
                        galleryModal.style.display = "none";
                    }
                }
            }

            if (copyBtn) {
                copyBtn.onclick = function(e) {
                    e.preventDefault();
                    navigator.clipboard.writeText(currentImageSrc).then(() => {
                        // Tampilkan pesan sukses
                        copySuccessMsg.classList.add("visible");
                        setTimeout(() => {
                            copySuccessMsg.classList.remove("visible");
                        }, 2000);
                    }).catch(err => {
                        console.error('Gagal menyalin: ', err);
                    });
                }
            }

            // === 5. FUNGSI ANIMASI SCROLL & GRAFIK ===
            const observerOptions = {
                root: null,
                rootMargin: "0px",
                threshold: 0.2 // Muncul saat 20% elemen terlihat
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add("visible");
                        
                        // BARU: Animasi bar grafik saat terlihat
                        if (entry.target.classList.contains('bar-chart') || entry.target.classList.contains('grouped-chart')) {
                            const bars = entry.target.querySelectorAll('.bar, .bar-g');
                            bars.forEach(bar => {
                                // Ambil tinggi dari --bar-height di style
                                const height = bar.style.getPropertyValue('--bar-height');
                                if (height) {
                                    bar.style.height = height;
                                }
                            });
                        }
                        
                        observer.unobserve(entry.target); // Animasi hanya sekali
                    }
                });
            };

            const observer = new IntersectionObserver(observerCallback, observerOptions);

            // Ambil semua elemen yang ingin dianimasikan
            const targets = document.querySelectorAll(".pillar, .card, .data-impact-grid, .gallery-item, .data-table-wrapper, .chart-container, .bar-chart, .grouped-chart");
            targets.forEach(target => observer.observe(target));

        });
    </script>

</body>
</html>










